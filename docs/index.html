<!doctype html>
<html lang="en" class="no-js">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Anxious Monkey — Live Alpha</title>
  <meta name="color-scheme" content="dark">
  <link rel="preconnect" href="https://cdn.jsdelivr.net" />
  <link rel="stylesheet" href="./styles.css" />
  <!-- Chart.js + time adapter (Luxon) -->
  <script src="https://cdn.jsdelivr.net/npm/luxon@3.5.0/build/global/luxon.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.3/dist/chart.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-luxon@1.3.1/dist/chartjs-adapter-luxon.umd.min.js"></script>
</head>
<body>
  <div class="page">
    <header class="topbar glass">
      <div class="brand">
        <span class="dot"></span>
        <h1>Anxious Monkey <span class="sub">– Live</span></h1>
      </div>
      <div class="actions">
        <div class="updated">
          <span>Last updated</span>
          <strong id="lastUpdated">—</strong>
        </div>
        <button id="refreshBtn" class="btn">Refresh</button>
      </div>
    </header>

    <!-- KPI row -->
    <section class="kpis">
      <div class="kpi glass">
        <div class="kpi-h">NAAIM</div>
        <div class="kpi-v" id="kpiNaaim">—</div>
      </div>
      <div class="kpi glass">
        <div class="kpi-h">&gt;50DMA (NDX)</div>
        <div class="kpi-v" id="kpiNdx50">—</div>
      </div>
      <div class="kpi glass">
        <div class="kpi-h">China (FXI)</div>
        <div class="kpi-v" id="kpiChina">—</div>
      </div>
      <div class="kpi glass">
        <div class="kpi-h">FRED Macro</div>
        <div class="kpi-v" id="kpiFred">—</div>
      </div>
    </section>

    <!-- Grid -->
    <main class="grid">
      <section class="card glass">
        <div class="card-h">Factor Weights</div>
        <div class="card-b">
          <canvas id="weightsChart" height="160"></canvas>
          <div class="legend" id="weightsLegend"></div>
        </div>
      </section>

      <section class="card glass">
        <div class="card-h">Playbook</div>
        <div class="card-b">
          <div id="playbook" class="playbook">
            <div class="skeleton lines"></div>
          </div>
        </div>
      </section>

      <section class="card glass">
        <div class="card-h">NAAIM Exposure</div>
        <div class="card-b"><canvas id="naaimChart" height="160"></canvas></div>
      </section>

      <section class="card glass">
        <div class="card-h">&gt;50DMA Breadth (NDX)</div>
        <div class="card-b"><canvas id="ndxChart" height="160"></canvas></div>
      </section>

      <section class="card glass">
        <div class="card-h">China Proxy (FXI)</div>
        <div class="card-b"><canvas id="chinaChart" height="160"></canvas></div>
      </section>

      <section class="card glass">
        <div class="card-h">FRED Macro (10Y − FF)</div>
        <div class="card-b"><canvas id="fredChart" height="160"></canvas></div>
      </section>

      <section class="card glass wide">
        <div class="card-h">Spot</div>
        <div class="card-b"><canvas id="spotChart" height="180"></canvas></div>
      </section>
    </main>

    <footer class="foot">
      <span>© Anxious Monkey</span>
      <span><a href="https://github.com/guozhongyan/anxiousmonkey-backtests" target="_blank" rel="noreferrer">Repo</a></span>
    </footer>
  </div>

  <div id="toast" class="toast hidden"></div>

  <script src="./app.js"></script>
</body>
</html>
